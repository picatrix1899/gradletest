/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our samples at https://docs.gradle.org/6.8/samples
 */

plugins {
	id 'application'
	id 'maven-publish'
}

group = 'com.test'
version = '1.0.0'

repositories {
 	mavenCentral()
}
 
dependencies {
 	testImplementation(platform('org.junit:junit-bom:5.8.2'))
 	testImplementation('org.junit.jupiter:junit-jupiter')
 	testImplementation 'org.mockito:mockito-core:4.1.0'
}
 
test {
 	useJUnitPlatform()
}
 
application {
	mainClass = 'com.test.Main'
}

publishing {
  repositories {
    maven {
      name = 'GitHubPackages'
      url = 'https://maven.pkg.github.com/picatrix1899/GradleTest'
      credentials {
        username = 'picatrix1899'
        password = System.getenv('GITHUB_TOKEN')
      }
    }
  }
  
  publications {
  	maven(MavenPublication) {
  	artifactId = 'gradletest'
  	
	from components.java
  	}
  }
}